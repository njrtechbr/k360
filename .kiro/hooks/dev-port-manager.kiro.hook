{
  "enabled": true,
  "name": "Dev Port Manager",
  "description": "Automatically kills any process running on port 3000 and ensures npm run dev always uses port 3000",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "package.json",
      "next.config.ts",
      ".env"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "When the user needs to restart the npm run dev service, first kill any process running on port 3000 using 'lsof -ti:3000 | xargs kill -9' or 'npx kill-port 3000', then start the development server with 'npm run dev' ensuring it uses port 3000. Never allow the service to use alternative ports - always enforce port 3000 usage."
  }
}